# æ™ºèƒ½å­¦ä¹ åŠ©æ‰‹ - é«˜åˆ†åŠŸèƒ½æ¨¡å—æ–‡æ¡£

## ğŸ“Š æ–¹æ¡ˆä¸€ï¼šAI æ™ºèƒ½å­¦ä¹ åˆ†ææŠ¥å‘Š

### åŠŸèƒ½æ¦‚è¿°
AI æ™ºèƒ½å­¦ä¹ åˆ†ææŠ¥å‘Šæ˜¯ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼ˆé€šä¹‰åƒé—®ï¼‰çš„å­¦ä¹ æ•°æ®åˆ†æåŠŸèƒ½ï¼Œèƒ½å¤Ÿè‡ªåŠ¨æ”¶é›†ç”¨æˆ·çš„å­¦ä¹ æ•°æ®ï¼Œå¹¶ç”Ÿæˆä¸ªæ€§åŒ–çš„åˆ†ææŠ¥å‘Šå’Œå­¦ä¹ å»ºè®®ã€‚

### æŠ€æœ¯äº®ç‚¹
1. **AI é©±åŠ¨çš„æ•°æ®åˆ†æ**ï¼šè°ƒç”¨é€šä¹‰åƒé—® qwen-plus æ¨¡å‹è¿›è¡Œæ·±åº¦å­¦ä¹ è¡Œä¸ºåˆ†æ
2. **å¤šç»´åº¦æ•°æ®æ•´åˆ**ï¼šæ•´åˆå­¦ä¹ æ—¶é•¿ã€ä»»åŠ¡å®Œæˆã€çŸ¥è¯†ç‚¹æŒæ¡ã€ç¬”è®°è¾“å‡ºç­‰å¤šç»´æ•°æ®
3. **å¯è§†åŒ–æ•°æ®å±•ç¤º**ï¼šä½¿ç”¨ ECharts å®ç°èƒ½åŠ›é›·è¾¾å›¾ã€å­¦ä¹ è¶‹åŠ¿å›¾ç­‰å¯è§†åŒ–å›¾è¡¨
4. **ä¸ªæ€§åŒ–å»ºè®®ç”Ÿæˆ**ï¼šåŸºäºç”¨æˆ·æ•°æ®ç”Ÿæˆé’ˆå¯¹æ€§çš„å­¦ä¹ ä¼˜åŒ–å»ºè®®

### API æ¥å£

#### 1. ç”Ÿæˆ AI å­¦ä¹ æŠ¥å‘Š
```
POST /api/v1/analysis/ai-report
```

**è¯·æ±‚å‚æ•°ï¼š**
```json
{
  "days": 7,          // åˆ†æå¤©æ•°ï¼š7/14/30
  "report_type": "weekly"  // æŠ¥å‘Šç±»å‹ï¼šweekly/monthly/custom
}
```

**å“åº”æ•°æ®ç»“æ„ï¼š**
```json
{
  "code": 200,
  "data": {
    "generated_at": "2025-12-25 10:00:00",
    "report_type": "weekly",
    "period": "æœ€è¿‘ 7 å¤©",
    "overview": {
      "total_study_hours": 15.5,
      "total_study_days": 6,
      "tasks_completed": 12,
      "task_completion_rate": 75.0,
      "knowledge_points": 45,
      "notes_created": 8,
      "streak_days": 6,
      "efficiency_score": 78,
      "efficiency_level": "ä¼˜ç§€ ğŸ‘"
    },
    "ability_radar": {
      "dimensions": [
        {"name": "å­¦ä¹ æ—¶é•¿", "value": 80, "max": 100},
        {"name": "ä»»åŠ¡å®Œæˆ", "value": 75, "max": 100},
        {"name": "çŸ¥è¯†æŒæ¡", "value": 60, "max": 100},
        {"name": "å­¦ä¹ è¿ç»­æ€§", "value": 60, "max": 100},
        {"name": "ç¬”è®°è¾“å‡º", "value": 80, "max": 100}
      ]
    },
    "behavior_analysis": {
      "peak_study_time": "19:00-21:00",
      "average_session_time": 45,
      "most_productive_day": "12-24",
      "study_habits": ["ä¿æŒè§„å¾‹å­¦ä¹ ", "å–„ç”¨ç¢ç‰‡æ—¶é—´"],
      "daily_trend": [...]
    },
    "knowledge_analysis": {
      "total_knowledge": 45,
      "mastered_count": 15,
      "learning_count": 20,
      "to_learn_count": 10,
      "mastery_rate": 33.3,
      "weak_points": ["å¾®ç§¯åˆ†åŸºç¡€æ¦‚å¿µ", "è‹±è¯­è¯­æ³•æ—¶æ€"]
    },
    "ai_advice": {
      "strength_analysis": ["å­¦ä¹ ä¹ æƒ¯ç¨³å®š", "ç¬”è®°æ•´ç†èƒ½åŠ›å¼º"],
      "improvement_areas": ["å¢åŠ å¤ä¹ é¢‘ç‡", "æå‡ä¸“æ³¨æ—¶é•¿"],
      "personalized_tips": [
        {
          "title": "åˆ¶å®šæ¯æ—¥å°ç›®æ ‡",
          "description": "å°†å¤§ä»»åŠ¡æ‹†åˆ†æˆå°ç›®æ ‡ï¼Œæ›´å®¹æ˜“åšæŒ",
          "priority": "high",
          "icon": "ğŸ¯"
        }
      ],
      "recommended_actions": [
        {
          "action": "æ¯å¤©å›ºå®šæ—¶é—´å­¦ä¹ 30åˆ†é’Ÿ",
          "reason": "å½¢æˆä¹ æƒ¯",
          "impact": "æå‡å­¦ä¹ æ•ˆç‡20%",
          "difficulty": "easy"
        }
      ]
    },
    "weekly_plan": {
      "goals": [
        {"goal": "å®Œæˆæœ¬å‘¨æ‰€æœ‰ä»»åŠ¡", "priority": 1, "metric": "ä»»åŠ¡å®Œæˆç‡100%"}
      ],
      "key_tasks": ["å®Œæˆæ•°å­¦ä¹ é¢˜", "å¤ä¹ è‹±è¯­å•è¯"]
    },
    "motivation": "æ¯ä¸€æ¬¡åŠªåŠ›éƒ½æ˜¯åœ¨ä¸ºæ›´å¥½çš„è‡ªå·±é“ºè·¯ï¼ğŸ’ª"
  }
}
```

### å‰ç«¯å®ç°
- é¡µé¢è·¯å¾„ï¼š`/ai-report`
- ç»„ä»¶æ–‡ä»¶ï¼š`front/src/views/AIReport.vue`
- ä½¿ç”¨ ECharts æ¸²æŸ“é›·è¾¾å›¾å’Œè¶‹åŠ¿å›¾
- æ”¯æŒé€‰æ‹©åˆ†æå‘¨æœŸï¼ˆ7å¤©/14å¤©/30å¤©ï¼‰

### æ–‡ä»¶æ¸…å•
- `backend/routes/ai_analysis_report.go` - åç«¯ API å®ç°
- `front/src/views/AIReport.vue` - å‰ç«¯é¡µé¢
- `front/src/api/modules/ai.js` - API è°ƒç”¨å‡½æ•°

---

## ğŸ“ æ–¹æ¡ˆäºŒï¼šæ™ºèƒ½ç¬”è®°å¢å¼º

### åŠŸèƒ½æ¦‚è¿°
æ™ºèƒ½ç¬”è®°å¢å¼ºåŠŸèƒ½åˆ©ç”¨ AI å¯¹ç”¨æˆ·çš„å­¦ä¹ ç¬”è®°è¿›è¡Œæ™ºèƒ½å¤„ç†ï¼Œæä¾›æ‘˜è¦ç”Ÿæˆã€å…³é”®è¯æå–ã€æ€ç»´å¯¼å›¾ç”Ÿæˆã€å¤ä¹ é—®é¢˜ç”Ÿæˆå’Œç¬”è®°æ¶¦è‰²ç­‰åŠŸèƒ½ã€‚

### æŠ€æœ¯äº®ç‚¹
1. **å¤šæ¨¡å¼å¢å¼º**ï¼šæ”¯æŒæ‘˜è¦ã€å…³é”®è¯ã€æ€ç»´å¯¼å›¾ã€é—®é¢˜ç”Ÿæˆã€æ¶¦è‰²äº”ç§å¢å¼ºæ¨¡å¼
2. **AI è¯­ä¹‰ç†è§£**ï¼šåŸºäºå¤§è¯­è¨€æ¨¡å‹ç†è§£ç¬”è®°å†…å®¹ï¼Œæå–æ ¸å¿ƒçŸ¥è¯†ç‚¹
3. **ç»“æ„åŒ–è¾“å‡º**ï¼šå°†éç»“æ„åŒ–ç¬”è®°è½¬æ¢ä¸ºç»“æ„åŒ–çš„çŸ¥è¯†è¡¨ç¤º
4. **é™çº§ç­–ç•¥**ï¼šåœ¨ AI ä¸å¯ç”¨æ—¶æä¾›åŸºç¡€çš„æœ¬åœ°å¤„ç†

### API æ¥å£

#### 1. å…¨é¢å¢å¼ºç¬”è®°
```
POST /api/v1/notes/enhance
```

**è¯·æ±‚å‚æ•°ï¼š**
```json
{
  "note_id": 123,         // ç¬”è®°IDï¼ˆå¯é€‰ï¼‰
  "content": "ç¬”è®°å†…å®¹",   // ç¬”è®°å†…å®¹ï¼ˆå¿…å¡«ï¼‰
  "title": "ç¬”è®°æ ‡é¢˜",     // ç¬”è®°æ ‡é¢˜
  "type": "all"           // å¢å¼ºç±»å‹ï¼šall/summary/keywords/mindmap/questions/polish
}
```

**å“åº”æ•°æ®ç»“æ„ï¼š**
```json
{
  "code": 200,
  "data": {
    "summary": {
      "brief": "ä¸€å¥è¯æ€»ç»“ç¬”è®°å†…å®¹",
      "key_points": ["æ ¸å¿ƒè¦ç‚¹1", "æ ¸å¿ƒè¦ç‚¹2", "æ ¸å¿ƒè¦ç‚¹3"],
      "conclusion": "ç»“è®ºæ€»ç»“",
      "reading_time": 5
    },
    "keywords": {
      "main_keywords": [
        {"word": "å…³é”®è¯1", "weight": 0.9, "definition": "å®šä¹‰è¯´æ˜"}
      ],
      "related_concepts": ["ç›¸å…³æ¦‚å¿µ1", "ç›¸å…³æ¦‚å¿µ2"],
      "category": "æ•°å­¦",
      "tags": ["å¾®ç§¯åˆ†", "å¯¼æ•°"]
    },
    "mindmap": {
      "root": {
        "text": "ä¸­å¿ƒä¸»é¢˜",
        "level": 0,
        "children": [
          {
            "text": "ä¸€çº§åˆ†æ”¯",
            "level": 1,
            "children": [
              {"text": "äºŒçº§èŠ‚ç‚¹", "level": 2, "children": []}
            ]
          }
        ]
      },
      "markdown": "# ä¸­å¿ƒä¸»é¢˜\n## ä¸€çº§åˆ†æ”¯\n- äºŒçº§èŠ‚ç‚¹"
    },
    "questions": {
      "review_questions": [
        {
          "question": "ä»€ä¹ˆæ˜¯å¯¼æ•°ï¼Ÿ",
          "answer": "å¯¼æ•°è¡¨ç¤ºå‡½æ•°åœ¨æŸç‚¹å¤„çš„ç¬æ—¶å˜åŒ–ç‡...",
          "difficulty": "easy",
          "type": "concept"
        }
      ],
      "thinking_questions": ["å¦‚ä½•å°†å¯¼æ•°åº”ç”¨åˆ°å®é™…é—®é¢˜ä¸­ï¼Ÿ"]
    },
    "polish": {
      "polished_content": "æ¶¦è‰²åçš„ Markdown å†…å®¹",
      "improvements": ["ä¼˜åŒ–äº†æ®µè½ç»“æ„", "æ·»åŠ äº†å°æ ‡é¢˜"],
      "structure": [
        {"title": "ç« èŠ‚1", "content": "å†…å®¹", "order": 1}
      ],
      "suggestions": ["å»ºè®®æ·»åŠ æ›´å¤šç¤ºä¾‹"]
    }
  }
}
```

#### 2. å•ç‹¬è°ƒç”¨å„åŠŸèƒ½
- `POST /api/v1/notes/generate-summary` - ç”Ÿæˆæ‘˜è¦
- `POST /api/v1/notes/extract-keywords` - æå–å…³é”®è¯
- `POST /api/v1/notes/generate-mindmap` - ç”Ÿæˆæ€ç»´å¯¼å›¾
- `POST /api/v1/notes/generate-questions` - ç”Ÿæˆå¤ä¹ é—®é¢˜
- `POST /api/v1/notes/polish` - æ¶¦è‰²ç¬”è®°

### å‰ç«¯ç»„ä»¶
- ç»„ä»¶æ–‡ä»¶ï¼š`front/src/components/NoteEnhance.vue`
- æ€ç»´å¯¼å›¾èŠ‚ç‚¹ï¼š`front/src/components/MindmapNode.vue`
- å¯åµŒå…¥åˆ°ç¬”è®°ç¼–è¾‘é¡µé¢ä¸­ä½¿ç”¨

### ä½¿ç”¨ç¤ºä¾‹
```vue
<template>
  <div>
    <textarea v-model="noteContent"></textarea>
    <NoteEnhance 
      :content="noteContent" 
      :title="noteTitle" 
    />
  </div>
</template>

<script setup>
import NoteEnhance from '@/components/NoteEnhance.vue'
</script>
```

### æ–‡ä»¶æ¸…å•
- `backend/routes/note_enhance.go` - åç«¯ API å®ç°
- `front/src/components/NoteEnhance.vue` - ç¬”è®°å¢å¼ºç»„ä»¶
- `front/src/components/MindmapNode.vue` - æ€ç»´å¯¼å›¾èŠ‚ç‚¹ç»„ä»¶
- `front/src/api/modules/ai.js` - API è°ƒç”¨å‡½æ•°

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨åç«¯
```bash
cd backend
go run main.go
```

### 2. å¯åŠ¨å‰ç«¯
```bash
cd front
npm run dev
```

### 3. è®¿é—®é¡µé¢
- AI å­¦ä¹ æŠ¥å‘Šï¼šhttp://localhost:5173/ai-report
- é¦–é¡µå…¥å£ï¼šç‚¹å‡»é¦–é¡µçš„ã€ŒAI å­¦ä¹ æŠ¥å‘Šã€å¡ç‰‡

---

## ğŸ¯ ç­”è¾©æ¼”ç¤ºè¦ç‚¹

### æ–¹æ¡ˆä¸€æ¼”ç¤º
1. ç™»å½•ç³»ç»Ÿï¼Œè¿›å…¥é¦–é¡µ
2. ç‚¹å‡»ã€ŒAI å­¦ä¹ æŠ¥å‘Šã€å¡ç‰‡æˆ–å¯¼èˆªåˆ° `/ai-report`
3. é€‰æ‹©åˆ†æå‘¨æœŸï¼ˆ7å¤©/14å¤©/30å¤©ï¼‰
4. ç‚¹å‡»ã€Œç”ŸæˆæŠ¥å‘Šã€
5. å±•ç¤ºæŠ¥å‘Šå„éƒ¨åˆ†ï¼š
   - å­¦ä¹ æ¦‚è§ˆç»Ÿè®¡å¡ç‰‡
   - èƒ½åŠ›é›·è¾¾å›¾
   - å­¦ä¹ è¡Œä¸ºåˆ†æ
   - AI ä¸ªæ€§åŒ–å»ºè®®
   - æ¿€åŠ±è¯­å¥

### æ–¹æ¡ˆäºŒæ¼”ç¤º
1. è¿›å…¥ç¬”è®°ç¼–è¾‘é¡µé¢
2. è¾“å…¥æˆ–é€‰æ‹©ä¸€ç¯‡ç¬”è®°
3. ç‚¹å‡»ã€Œå…¨é¢å¢å¼ºã€æŒ‰é’®
4. å±•ç¤ºå„å¢å¼ºåŠŸèƒ½ï¼š
   - æ™ºèƒ½æ‘˜è¦
   - å…³é”®è¯æå–ï¼ˆå¸¦æƒé‡ï¼‰
   - æ€ç»´å¯¼å›¾ï¼ˆå¯äº¤äº’å±•å¼€/æ”¶èµ·ï¼‰
   - å¤ä¹ é—®é¢˜ï¼ˆå«ç­”æ¡ˆå’Œéš¾åº¦æ ‡è®°ï¼‰
5. å°è¯•ã€Œæ¶¦è‰²ä¼˜åŒ–ã€åŠŸèƒ½

---

## ğŸ“‹ æŠ€æœ¯æ ˆæ€»ç»“

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| å‰ç«¯æ¡†æ¶ | Vue 3 + Vite |
| UI æ ·å¼ | Tailwind CSS |
| å›¾è¡¨åº“ | ECharts |
| Markdown | marked.js |
| åç«¯æ¡†æ¶ | Go + Gin |
| æ•°æ®åº“ | MySQL 8.0 |
| AI æ¨¡å‹ | é€šä¹‰åƒé—® qwen-plus |
| å‘é‡æ¨¡å‹ | é€šä¹‰ text-embedding-v3 |

---

*æ–‡æ¡£ç”Ÿæˆæ—¶é—´ï¼š2025-12-25*
