<template>
  <div class="bg-gray-50 min-h-screen py-8">
    <div class="w-[1440px] mx-auto">
      <div class="flex gap-6">
        <!-- å·¦ä¾§ï¼šå­¦ä¹ æ¡£æ¡ˆå¡ -->
        <aside class="w-80 flex-shrink-0 sidebar-shadow rounded-2xl bg-white p-6">
          <!-- ç»Ÿä¸€çš„å­¦ä¹ æ¡£æ¡ˆå¡ -->
          <div class="card mb-6 p-6 text-center bg-gradient-to-br from-blue-50 to-indigo-50">
            <!-- ä¸ªäººä¿¡æ¯åŒº -->
            <div class="flex justify-center mb-4">
              <div class="w-24 h-24 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden">
                <div class="w-24 h-24 bg-gray-300 rounded-full"></div>
              </div>
            </div>
            <h2 class="text-xl font-bold mb-2">ææ˜</h2>
            <div class="flex justify-center items-center mb-4">
              <iconify-icon icon="mdi:medal" class="text-orange-500 text-xl"></iconify-icon>
              <span class="ml-1 text-orange-500 font-medium">é»„é‡‘ä¼šå‘˜</span>
            </div>
            
            <!-- å­¦ä¹ ç»Ÿè®¡ -->
            <div class="grid grid-cols-3 gap-3 mb-6">
              <div class="bg-white rounded-lg p-3">
                <p class="text-gray-500 text-xs mb-1">è¿ç»­ç­¾åˆ°</p>
                <p class="text-lg font-bold text-blue-600">28<span class="text-xs">å¤©</span></p>
              </div>
              <div class="bg-white rounded-lg p-3">
                <p class="text-gray-500 text-xs mb-1">æ­£åœ¨å­¦ä¹ </p>
                <p class="text-lg font-bold text-blue-600">3<span class="text-xs">é—¨è¯¾</span></p>
              </div>
              <div class="bg-white rounded-lg p-3">
                <p class="text-gray-500 text-xs mb-1">æ€»ä»»åŠ¡</p>
                <p class="text-lg font-bold text-blue-600">102<span class="text-xs">é¡¹</span></p>
              </div>
            </div>
            
            <!-- ç§¯åˆ†å±•ç¤º -->
            <div class="mb-6">
              <div class="flex justify-between items-center mb-3">
                <h3 class="font-bold text-gray-700 flex items-center">
                  <iconify-icon icon="mdi:crystal-ball" class="mr-2 text-blue-600"></iconify-icon> 
                  æˆ‘çš„ç§¯åˆ†
                </h3>
                <span class="badge inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                  TOP 15%
                </span>
              </div>
              
              <div class="flex justify-center mb-4">
                <div class="relative">
                  <div class="w-20 h-20 rounded-full relative flex items-center justify-center">
                    <div class="absolute inset-0 bg-blue-600 bg-opacity-10 rounded-full"></div>
                    <span class="text-2xl font-bold text-blue-600 relative z-10">3860</span>
                  </div>
                  <div class="absolute bottom-0 right-0 transform translate-y-1">
                    <iconify-icon icon="mdi:star-four-points" class="text-yellow-400 text-lg"></iconify-icon>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- æˆé•¿ç­‰çº§è¿›åº¦æ¡ -->
            <div class="mb-4">
              <div class="flex justify-between items-center mb-2">
                <span class="text-sm font-medium text-gray-700">å­¦éœ¸ Lv.4</span>
                <span class="text-xs text-gray-500">è·ç¦»ä¸‹ä¸€çº§</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-3 mb-2">
                <div class="bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full" style="width: 75%"></div>
              </div>
              <div class="text-xs text-gray-600">è¿˜éœ€ 250 ç§¯åˆ†å‡çº§åˆ° Lv.5</div>
            </div>
            
            <!-- æ“ä½œæŒ‰é’® -->
            <div class="flex gap-2">
              <button class="flex-1 px-3 py-2 bg-white text-blue-600 border border-blue-200 rounded-lg font-medium text-sm hover:bg-blue-50">
                æŸ¥çœ‹æ˜ç»†
              </button>
              <button class="flex-1 px-3 py-2 bg-blue-600 text-white rounded-lg font-medium text-sm hover:bg-blue-700 flex items-center justify-center">
                <iconify-icon icon="mdi:gift-outline" class="mr-1"></iconify-icon>
                å…‘æ¢å¥–å“
              </button>
            </div>
          </div>
          
          <!-- å¿«é€Ÿå¯¼èˆª -->
          <div class="space-y-3">
            <router-link to="/personal-tasks" class="flex items-center p-3 text-gray-700 hover:bg-gray-50 rounded-lg transition">
              <iconify-icon icon="mdi:calendar-check" class="text-xl text-green-500 mr-3"></iconify-icon>
              <span>ä»Šæ—¥ä»»åŠ¡</span>
            </router-link>
            <button @click="showAchievements = true" class="w-full flex items-center p-3 text-gray-700 hover:bg-gray-50 rounded-lg transition">
              <iconify-icon icon="mdi:trophy" class="text-xl text-yellow-500 mr-3"></iconify-icon>
              <span>æˆ‘çš„æˆå°±</span>
            </button>
            <button @click="showSettings = true" class="w-full flex items-center p-3 text-gray-700 hover:bg-gray-50 rounded-lg transition">
              <iconify-icon icon="mdi:cog" class="text-xl text-gray-500 mr-3"></iconify-icon>
              <span>ç³»ç»Ÿè®¾ç½®</span>
            </button>
          </div>
        </aside>
        
        <!-- ä¸­é—´ï¼šåŠ¨æ€å­¦ä¹ çœ‹æ¿ -->
        <main class="flex-1">
          <!-- çœ‹æ¿æ ‡é¢˜å’Œæ—¶é—´åˆ‡æ¢ -->
          <div class="flex items-center justify-between mb-5">
            <h2 class="text-2xl font-bold text-gray-700">åŠ¨æ€å­¦ä¹ çœ‹æ¿</h2>
            <div class="inline-flex bg-gray-100 p-1 rounded-xl">
              <button 
                class="px-4 py-1 rounded-lg font-medium transition-colors"
                :class="activeTimeFilter === 'week' ? 'bg-white shadow-sm text-blue-600' : 'text-gray-600 hover:text-gray-800'"
                @click="setTimeFilter('week')"
              >
                å‘¨
              </button>
              <button 
                class="px-4 py-1 rounded-lg font-medium transition-colors"
                :class="activeTimeFilter === 'month' ? 'bg-white shadow-sm text-blue-600' : 'text-gray-600 hover:text-gray-800'"
                @click="setTimeFilter('month')"
              >
                æœˆ
              </button>
              <button 
                class="px-4 py-1 rounded-lg font-medium transition-colors"
                :class="activeTimeFilter === 'quarter' ? 'bg-white shadow-sm text-blue-600' : 'text-gray-600 hover:text-gray-800'"
                @click="setTimeFilter('quarter')"
              >
                å­£åº¦
              </button>
            </div>
          </div>
          
          <!-- ä»»åŠ¡è¿›åº¦å›¾è¡¨åŒº -->
          <div class="grid grid-cols-3 gap-4 mb-6">
            <!-- ç¯å½¢è¿›åº¦å›¾ -->
            <div class="card col-span-1 p-5 cursor-pointer hover:shadow-lg transition-shadow" @click="showTaskDetails">
              <div class="flex justify-between mb-3">
                <div>
                  <p class="text-gray-500 mb-2">æ•´ä½“å®Œæˆç‡</p>
                  <h3 class="text-3xl font-bold text-blue-600">{{ currentTimeData.completionRate }}%</h3>
                </div>
                <div class="h-16 w-16" ref="ringProgress"></div>
              </div>
              <div class="mt-4">
                <div class="flex justify-between text-sm text-gray-500 mb-1">
                  <span>å·²å®Œæˆ</span>
                  <span>{{ currentTimeData.completedTasks }}/{{ currentTimeData.totalTasks }}</span>
                </div>
                <div class="w-full h-3 bg-gray-200 rounded-full">
                  <div class="h-full rounded-full bg-green-500" :style="`width: ${currentTimeData.completionRate}%`"></div>
                </div>
              </div>
            </div>
            
            <!-- æŸ±çŠ¶å›¾å®¹å™¨ -->
            <div class="card col-span-2 p-5">
              <div class="h-64" ref="taskProgressChart"></div>
            </div>
          </div>
          
          <!-- ä»»åŠ¡æ ‡ç­¾é¡µ -->
          <div class="mb-4">
            <div class="flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit">
              <button 
                class="px-4 py-2 rounded-md font-medium transition-colors"
                :class="activeTab === 'inProgress' ? 'bg-white shadow-sm text-blue-600' : 'text-gray-600 hover:text-gray-800'"
                @click="activeTab = 'inProgress'"
              >
                è¿›è¡Œä¸­ (3)
              </button>
              <button 
                class="px-4 py-2 rounded-md font-medium transition-colors"
                :class="activeTab === 'pending' ? 'bg-white shadow-sm text-orange-600' : 'text-gray-600 hover:text-gray-800'"
                @click="activeTab = 'pending'"
              >
                å¾…å¼€å§‹ (5)
              </button>
              <button 
                class="px-4 py-2 rounded-md font-medium transition-colors"
                :class="activeTab === 'completed' ? 'bg-white shadow-sm text-green-600' : 'text-gray-600 hover:text-gray-800'"
                @click="activeTab = 'completed'"
              >
                å·²å®Œæˆ (86)
              </button>
            </div>
          </div>
          
          <!-- ä»»åŠ¡åˆ—è¡¨ -->
          <div class="space-y-4">
            <!-- è¿›è¡Œä¸­çš„ä»»åŠ¡ -->
            <div v-show="activeTab === 'inProgress'">
              <!-- ä»»åŠ¡å¡ç‰‡1 -->
              <div class="card p-5 flex items-center hover:shadow-md transition-shadow">
                <div class="w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center mr-4">
                  <iconify-icon icon="mdi:code-tags" class="text-2xl text-blue-600"></iconify-icon>
                </div>
                <div class="flex-1">
                  <h4 class="font-bold text-gray-800">å‰ç«¯å¼€å‘è¯¾ç¨‹å­¦ä¹ </h4>
                  <div class="flex items-center mt-1">
                    <div class="text-xs text-gray-500">æœ€åå­¦ä¹ ï¼šä»Šå¤© 12:30</div>
                    <span class="ml-2 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">é«˜ä¼˜å…ˆçº§</span>
                  </div>
                </div>
                <div class="w-1/3">
                  <div class="flex justify-between text-sm text-gray-500 mb-1">
                    <span>å­¦ä¹ è¿›åº¦</span>
                    <span>64%</span>
                  </div>
                  <div class="h-2 bg-gray-200 rounded-full">
                    <div class="h-full rounded-full bg-blue-600" style="width: 64%"></div>
                  </div>
                </div>
                <button class="ml-6 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg">ç»§ç»­</button>
              </div>
              
              <!-- ä»»åŠ¡å¡ç‰‡2 -->
              <div class="card p-5 flex items-center hover:shadow-md transition-shadow">
                <div class="w-12 h-12 rounded-xl bg-orange-50 flex items-center justify-center mr-4">
                  <iconify-icon icon="mdi:translate" class="text-2xl text-orange-600"></iconify-icon>
                </div>
                <div class="flex-1">
                  <h4 class="font-bold text-gray-800">è‹±è¯­å››çº§å¤‡è€ƒæµ‹è¯•</h4>
                  <div class="flex items-center mt-1">
                    <div class="text-xs text-gray-500">æœ€åæµ‹è¯•ï¼šæ˜¨å¤© 16:45</div>
                    <span class="ml-2 px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full">ä¸­ä¼˜å…ˆçº§</span>
                  </div>
                </div>
                <div class="w-1/3">
                  <div class="flex justify-between text-sm text-gray-500 mb-1">
                    <span>å®Œæˆè¿›åº¦</span>
                    <span>48%</span>
                  </div>
                  <div class="h-2 bg-gray-200 rounded-full">
                    <div class="h-full rounded-full bg-orange-500" style="width: 48%"></div>
                  </div>
                </div>
                <button class="ml-6 bg-orange-500 hover:bg-orange-600 text-white font-medium py-2 px-4 rounded-lg">å¼€å§‹</button>
              </div>
              
              <!-- ä»»åŠ¡å¡ç‰‡3 -->
              <div class="card p-5 flex items-center hover:shadow-md transition-shadow">
                <div class="w-12 h-12 rounded-xl bg-green-50 flex items-center justify-center mr-4">
                  <iconify-icon icon="mdi:book-open-page-variant" class="text-2xl text-green-600"></iconify-icon>
                </div>
                <div class="flex-1">
                  <h4 class="font-bold text-gray-800">æ¯å‘¨é˜…è¯»è®¡åˆ’ - ã€ŠWebå¼€å‘å®æˆ˜ã€‹</h4>
                  <div class="flex items-center mt-1">
                    <div class="text-xs text-gray-500">æœ¬å‘¨ä»»åŠ¡ï¼š3/5ç« èŠ‚</div>
                    <span class="ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">ä½ä¼˜å…ˆçº§</span>
                  </div>
                </div>
                <div class="w-1/3">
                  <div class="flex justify-between text-sm text-gray-500 mb-1">
                    <span>è¿›åº¦</span>
                    <span>82%</span>
                  </div>
                  <div class="h-2 bg-gray-200 rounded-full">
                    <div class="h-full rounded-full bg-green-500" style="width: 82%"></div>
                  </div>
                </div>
                <button class="ml-6 bg-gray-800 hover:bg-black text-white font-medium py-2 px-4 rounded-lg">é˜…è¯»</button>
              </div>
            </div>
            
            <!-- å¾…å¼€å§‹çš„ä»»åŠ¡ -->
            <div v-show="activeTab === 'pending'">
              <div class="card p-5 flex items-center hover:shadow-md transition-shadow">
                <div class="w-12 h-12 rounded-xl bg-purple-50 flex items-center justify-center mr-4">
                  <iconify-icon icon="mdi:database" class="text-2xl text-purple-600"></iconify-icon>
                </div>
                <div class="flex-1">
                  <h4 class="font-bold text-gray-800">æ•°æ®åº“è®¾è®¡ä¸ä¼˜åŒ–</h4>
                  <div class="flex items-center mt-1">
                    <div class="text-xs text-gray-500">è®¡åˆ’å¼€å§‹ï¼šæ˜å¤© 09:00</div>
                    <span class="ml-2 px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full">å¾…å¼€å§‹</span>
                  </div>
                </div>
                <div class="w-1/3">
                  <div class="flex justify-between text-sm text-gray-500 mb-1">
                    <span>é¢„è®¡æ—¶é•¿</span>
                    <span>40å°æ—¶</span>
                  </div>
                  <div class="h-2 bg-gray-200 rounded-full">
                    <div class="h-full rounded-full bg-gray-300" style="width: 0%"></div>
                  </div>
                </div>
                <button class="ml-6 bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg">å¼€å§‹å­¦ä¹ </button>
              </div>
            </div>
            
            <!-- å·²å®Œæˆçš„ä»»åŠ¡ -->
            <div v-show="activeTab === 'completed'">
              <div class="card p-5 flex items-center hover:shadow-md transition-shadow">
                <div class="w-12 h-12 rounded-xl bg-green-50 flex items-center justify-center mr-4">
                  <iconify-icon icon="mdi:check-circle" class="text-2xl text-green-600"></iconify-icon>
                </div>
                <div class="flex-1">
                  <h4 class="font-bold text-gray-800">JavaScriptåŸºç¡€è¯¾ç¨‹</h4>
                  <div class="flex items-center mt-1">
                    <div class="text-xs text-gray-500">å®Œæˆæ—¶é—´ï¼š2024-01-15 18:30</div>
                    <span class="ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">å·²å®Œæˆ</span>
                  </div>
                </div>
                <div class="w-1/3">
                  <div class="flex justify-between text-sm text-gray-500 mb-1">
                    <span>æœ€ç»ˆå¾—åˆ†</span>
                    <span>95åˆ†</span>
                  </div>
                  <div class="h-2 bg-gray-200 rounded-full">
                    <div class="h-full rounded-full bg-green-500" style="width: 100%"></div>
                  </div>
                </div>
                <button class="ml-6 bg-gray-500 text-white font-medium py-2 px-4 rounded-lg">æŸ¥çœ‹è¯ä¹¦</button>
              </div>
            </div>
          </div>
        </main>
        
        <!-- å³ä¾§ï¼šå­¦ä¹ äº’åŠ¨é¢æ¿ -->
        <aside class="w-80 flex-shrink-0 sidebar-shadow rounded-2xl bg-white p-6">
          <!-- äº’åŠ¨é¢æ¿æ ‡é¢˜ -->
          <div class="flex justify-between items-center mb-5">
            <h3 class="text-xl font-bold text-gray-700">å­¦ä¹ äº’åŠ¨</h3>
            <div class="flex items-center gap-2">
              <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
              <span class="text-sm text-green-600">3äººåœ¨çº¿</span>
            </div>
          </div>
          
          <!-- æœ€è¿‘äº’åŠ¨ -->
          <div class="mb-6">
            <div class="flex justify-between items-center mb-3">
              <h4 class="font-medium text-gray-700">æœ€è¿‘äº’åŠ¨</h4>
              <span class="text-xs text-blue-600 cursor-pointer hover:underline">æŸ¥çœ‹å…¨éƒ¨</span>
            </div>
            <div class="space-y-2">
              <div class="flex items-center p-2 bg-blue-50 rounded-lg">
                <div class="w-8 h-8 rounded-full bg-gray-300 mr-2"></div>
                <div class="flex-1">
                  <div class="text-sm font-medium">å¼ ä¼Ÿ</div>
                  <div class="text-xs text-gray-500">ç‚¹èµäº†ä½ çš„å­¦ä¹ ç¬”è®°</div>
                </div>
                <div class="text-xs text-gray-400">2åˆ†é’Ÿå‰</div>
              </div>
              <div class="flex items-center p-2 bg-green-50 rounded-lg">
                <div class="w-8 h-8 rounded-full bg-gray-300 mr-2"></div>
                <div class="flex-1">
                  <div class="text-sm font-medium">åˆ˜ç‡•</div>
                  <div class="text-xs text-gray-500">è¯„è®ºäº†ä½ çš„é¡¹ç›®</div>
                </div>
                <div class="text-xs text-gray-400">5åˆ†é’Ÿå‰</div>
              </div>
            </div>
          </div>
          
          <!-- ç‚¹èµæ’è¡Œ -->
          <div class="mb-6">
            <div class="flex justify-between items-center mb-3">
              <h4 class="font-medium text-gray-700">æœ¬å‘¨ç‚¹èµæ’è¡Œ</h4>
              <iconify-icon icon="mdi:trophy" class="text-yellow-500"></iconify-icon>
            </div>
            <div class="space-y-2">
              <div class="flex items-center justify-between p-2 bg-yellow-50 rounded-lg">
                <div class="flex items-center">
                  <div class="w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-2">1</div>
                  <div class="w-8 h-8 rounded-full bg-gray-300 mr-2"></div>
                  <span class="text-sm font-medium">ç‹æµ©</span>
                </div>
                <div class="flex items-center text-yellow-600">
                  <iconify-icon icon="mdi:thumb-up" class="mr-1"></iconify-icon>
                  <span class="text-sm font-bold">128</span>
                </div>
              </div>
              <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                <div class="flex items-center">
                  <div class="w-6 h-6 bg-gray-400 text-white rounded-full flex items-center justify-center text-xs font-bold mr-2">2</div>
                  <div class="w-8 h-8 rounded-full bg-gray-300 mr-2"></div>
                  <span class="text-sm font-medium">ææ˜</span>
                </div>
                <div class="flex items-center text-gray-600">
                  <iconify-icon icon="mdi:thumb-up" class="mr-1"></iconify-icon>
                  <span class="text-sm font-bold">95</span>
                </div>
              </div>
            </div>
          </div>
          
          <!-- å­¦ä¹ ä¼™ä¼´ -->
          <div class="mb-6">
            <div class="flex justify-between items-center mb-3">
              <h4 class="font-medium text-gray-700">å­¦ä¹ ä¼™ä¼´</h4>
              <button class="text-blue-600 hover:text-blue-800 flex items-center text-sm">
                <iconify-icon icon="mdi:plus-circle" class="mr-1"></iconify-icon>
                æ·»åŠ 
              </button>
            </div>
            
            <!-- å¥½å‹åˆ—è¡¨ -->
            <div class="space-y-3">
              <!-- å¥½å‹1 -->
              <div class="friend-card card p-3 flex items-center cursor-pointer hover:bg-blue-50 rounded-xl">
                <div class="relative">
                  <div class="w-10 h-10 rounded-full bg-gray-300"></div>
                  <div class="absolute bottom-0 right-0 w-3 h-3 rounded-full bg-green-500 border-2 border-white"></div>
                </div>
                <div class="ml-3 flex-1">
                  <div class="font-medium text-sm">å¼ ä¼Ÿ</div>
                  <div class="text-xs text-gray-500">å‰ç«¯å¼€å‘è¯¾ç¨‹å­¦ä¹ ä¸­</div>
                </div>
                <div class="flex gap-1">
                  <button class="w-7 h-7 flex items-center justify-center bg-gray-100 text-gray-600 rounded-full hover:bg-blue-100 text-sm">
                    <iconify-icon icon="mdi:thumb-up"></iconify-icon>
                  </button>
                  <button class="w-7 h-7 flex items-center justify-center bg-blue-100 text-blue-600 rounded-full hover:bg-blue-200 text-sm">
                    <iconify-icon icon="mdi:message"></iconify-icon>
                  </button>
                </div>
              </div>
              
              <!-- å¥½å‹2 -->
              <div class="friend-card card p-3 flex items-center cursor-pointer hover:bg-blue-50 rounded-xl">
                <div class="relative">
                  <div class="w-10 h-10 rounded-full bg-gray-300"></div>
                  <div class="absolute bottom-0 right-0 w-3 h-3 rounded-full bg-gray-300 border-2 border-white"></div>
                </div>
                <div class="ml-3 flex-1">
                  <div class="font-medium text-sm">åˆ˜ç‡•</div>
                  <div class="text-xs text-gray-500">è‹±è¯­å­¦ä¹ è¿›è¡Œä¸­</div>
                </div>
                <div class="flex gap-1">
                  <button class="w-7 h-7 flex items-center justify-center bg-gray-100 text-gray-600 rounded-full hover:bg-blue-100 text-sm">
                    <iconify-icon icon="mdi:thumb-up"></iconify-icon>
                  </button>
                  <button class="w-7 h-7 flex items-center justify-center bg-blue-100 text-blue-600 rounded-full hover:bg-blue-200 text-sm">
                    <iconify-icon icon="mdi:message"></iconify-icon>
                  </button>
                </div>
              </div>
            </div>
          </div>
          
          <!-- è¯„è®ºæé†’ -->
          <div class="mb-4">
            <div class="flex justify-between items-center mb-3">
              <h4 class="font-medium text-gray-700">è¯„è®ºæé†’</h4>
              <div class="w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs">3</div>
            </div>
            <div class="space-y-2">
              <div class="p-2 bg-red-50 border-l-4 border-red-400 rounded">
                <div class="text-sm font-medium text-red-800">æ–°è¯„è®º</div>
                <div class="text-xs text-red-600">ç‹æµ©è¯„è®ºäº†ä½ çš„Vueé¡¹ç›®</div>
              </div>
            </div>
          </div>
          
          <!-- äº’åŠ¨æ¶ˆæ¯ -->
          <div>
            <div class="flex justify-between items-center mb-3">
              <h4 class="font-medium text-gray-700">äº’åŠ¨æ¶ˆæ¯</h4>
              <span class="text-blue-600 hover:text-blue-800 text-xs cursor-pointer">æŸ¥çœ‹å…¨éƒ¨</span>
            </div>
            
            <!-- æ¶ˆæ¯1 -->
            <div class="flex mb-3">
              <div class="mr-2">
                <div class="w-8 h-8 rounded-full bg-gray-300"></div>
              </div>
              <div class="flex-1">
                <div class="bubble-left bg-gray-100 p-2 rounded-xl rounded-tl-none relative max-w-[80%]">
                  <div class="font-medium text-sm">é™ˆæ•</div>
                  <p class="text-xs">ä½ çš„å‰ç«¯é¡¹ç›®å¤ªæ£’äº†ï¼ğŸ˜„</p>
                </div>
                <div class="text-xs text-gray-500 mt-1">1å°æ—¶å‰</div>
              </div>
            </div>
            
            <!-- æ¶ˆæ¯è¾“å…¥æ¡† -->
            <div class="mt-3">
              <div class="flex items-center">
                <input type="text" placeholder="å›å¤æ¶ˆæ¯..." class="flex-1 bg-gray-100 border-0 focus:ring-0 rounded-full py-2 px-3 text-sm">
                <button class="w-8 h-8 flex items-center justify-center bg-blue-600 text-white rounded-full ml-2">
                  <iconify-icon icon="mdi:send" class="text-sm"></iconify-icon>
                </button>
              </div>
            </div>
          </div>
        </aside>
      </div>
    </div>
    
    <!-- æˆ‘çš„æˆå°±å¼¹çª— -->
    <div v-if="showAchievements" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" @click="showAchievements = false">
      <div class="bg-white rounded-2xl p-6 w-[600px] max-h-[80vh] overflow-y-auto" @click.stop>
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-2xl font-bold text-gray-800 flex items-center">
            <iconify-icon icon="mdi:trophy" class="text-yellow-500 mr-2"></iconify-icon>
            æˆ‘çš„æˆå°±
          </h2>
          <button @click="showAchievements = false" class="text-gray-400 hover:text-gray-600">
            <iconify-icon icon="mdi:close" class="text-2xl"></iconify-icon>
          </button>
        </div>
        
        <!-- æˆå°±ç»Ÿè®¡ -->
        <div class="grid grid-cols-3 gap-4 mb-6">
          <div class="bg-gradient-to-br from-yellow-50 to-orange-50 p-4 rounded-xl text-center">
            <iconify-icon icon="mdi:medal" class="text-3xl text-yellow-500 mb-2"></iconify-icon>
            <div class="text-2xl font-bold text-gray-800">12</div>
            <div class="text-sm text-gray-600">å·²è·å¾—æˆå°±</div>
          </div>
          <div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-xl text-center">
            <iconify-icon icon="mdi:star" class="text-3xl text-blue-500 mb-2"></iconify-icon>
            <div class="text-2xl font-bold text-gray-800">3860</div>
            <div class="text-sm text-gray-600">æˆå°±ç§¯åˆ†</div>
          </div>
          <div class="bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl text-center">
            <iconify-icon icon="mdi:target" class="text-3xl text-green-500 mb-2"></iconify-icon>
            <div class="text-2xl font-bold text-gray-800">85%</div>
            <div class="text-sm text-gray-600">å®Œæˆåº¦</div>
          </div>
        </div>
        
        <!-- æˆå°±åˆ—è¡¨ -->
        <div class="space-y-4">
          <h3 class="text-lg font-bold text-gray-700 mb-3">æœ€è¿‘è·å¾—</h3>
          
          <!-- æˆå°±é¡¹ç›® -->
          <div class="flex items-center p-4 bg-yellow-50 border border-yellow-200 rounded-xl">
            <div class="w-12 h-12 bg-yellow-500 rounded-full flex items-center justify-center mr-4">
              <iconify-icon icon="mdi:school" class="text-white text-xl"></iconify-icon>
            </div>
            <div class="flex-1">
              <h4 class="font-bold text-gray-800">å­¦ä¹ è¾¾äºº</h4>
              <p class="text-sm text-gray-600">è¿ç»­å­¦ä¹ 30å¤©</p>
            </div>
            <div class="text-right">
              <div class="text-yellow-600 font-bold">+500ç§¯åˆ†</div>
              <div class="text-xs text-gray-500">2024-01-15</div>
            </div>
          </div>
          
          <div class="flex items-center p-4 bg-blue-50 border border-blue-200 rounded-xl">
            <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mr-4">
              <iconify-icon icon="mdi:code-tags" class="text-white text-xl"></iconify-icon>
            </div>
            <div class="flex-1">
              <h4 class="font-bold text-gray-800">ç¼–ç¨‹é«˜æ‰‹</h4>
              <p class="text-sm text-gray-600">å®Œæˆ10ä¸ªç¼–ç¨‹é¡¹ç›®</p>
            </div>
            <div class="text-right">
              <div class="text-blue-600 font-bold">+300ç§¯åˆ†</div>
              <div class="text-xs text-gray-500">2024-01-10</div>
            </div>
          </div>
          
          <div class="flex items-center p-4 bg-green-50 border border-green-200 rounded-xl">
            <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mr-4">
              <iconify-icon icon="mdi:account-group" class="text-white text-xl"></iconify-icon>
            </div>
            <div class="flex-1">
              <h4 class="font-bold text-gray-800">å›¢é˜Ÿåä½œè€…</h4>
              <p class="text-sm text-gray-600">å‚ä¸5ä¸ªå›¢é˜Ÿé¡¹ç›®</p>
            </div>
            <div class="text-right">
              <div class="text-green-600 font-bold">+200ç§¯åˆ†</div>
              <div class="text-xs text-gray-500">2024-01-05</div>
            </div>
          </div>
          
          <!-- æœªè·å¾—æˆå°± -->
          <h3 class="text-lg font-bold text-gray-700 mb-3 mt-6">å¾…è§£é”</h3>
          
          <div class="flex items-center p-4 bg-gray-50 border border-gray-200 rounded-xl opacity-60">
            <div class="w-12 h-12 bg-gray-400 rounded-full flex items-center justify-center mr-4">
              <iconify-icon icon="mdi:lightning-bolt" class="text-white text-xl"></iconify-icon>
            </div>
            <div class="flex-1">
              <h4 class="font-bold text-gray-800">é€Ÿåº¦ä¹‹ç‹</h4>
              <p class="text-sm text-gray-600">å•æ—¥å®Œæˆ5ä¸ªä»»åŠ¡</p>
              <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                <div class="bg-blue-500 h-2 rounded-full" style="width: 60%"></div>
              </div>
              <div class="text-xs text-gray-500 mt-1">è¿›åº¦: 3/5</div>
            </div>
            <div class="text-right">
              <div class="text-gray-500 font-bold">+800ç§¯åˆ†</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- ç³»ç»Ÿè®¾ç½®å¼¹çª— -->
    <div v-if="showSettings" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" @click="showSettings = false">
      <div class="bg-white rounded-2xl p-6 w-[500px] max-h-[80vh] overflow-y-auto" @click.stop>
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-2xl font-bold text-gray-800 flex items-center">
            <iconify-icon icon="mdi:cog" class="text-gray-500 mr-2"></iconify-icon>
            ç³»ç»Ÿè®¾ç½®
          </h2>
          <button @click="showSettings = false" class="text-gray-400 hover:text-gray-600">
            <iconify-icon icon="mdi:close" class="text-2xl"></iconify-icon>
          </button>
        </div>
        
        <!-- è®¾ç½®é€‰é¡¹ -->
        <div class="space-y-6">
          <!-- é€šçŸ¥è®¾ç½® -->
          <div>
            <h3 class="text-lg font-bold text-gray-700 mb-3 flex items-center">
              <iconify-icon icon="mdi:bell" class="text-blue-500 mr-2"></iconify-icon>
              é€šçŸ¥è®¾ç½®
            </h3>
            <div class="space-y-3">
              <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                <div>
                  <div class="font-medium text-gray-800">å­¦ä¹ æé†’</div>
                  <div class="text-sm text-gray-600">æ¯æ—¥å­¦ä¹ æ—¶é—´æé†’</div>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                  <input type="checkbox" class="sr-only peer" checked>
                  <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                </label>
              </div>
              
              <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                <div>
                  <div class="font-medium text-gray-800">ä»»åŠ¡æˆªæ­¢æé†’</div>
                  <div class="text-sm text-gray-600">ä»»åŠ¡å³å°†åˆ°æœŸæ—¶æé†’</div>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                  <input type="checkbox" class="sr-only peer" checked>
                  <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                </label>
              </div>
              
              <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                <div>
                  <div class="font-medium text-gray-800">ç¤¾äº¤äº’åŠ¨</div>
                  <div class="text-sm text-gray-600">å¥½å‹åŠ¨æ€å’Œæ¶ˆæ¯é€šçŸ¥</div>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                  <input type="checkbox" class="sr-only peer">
                  <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                </label>
              </div>
            </div>
          </div>
          
          <!-- å­¦ä¹ åå¥½ -->
          <div>
            <h3 class="text-lg font-bold text-gray-700 mb-3 flex items-center">
              <iconify-icon icon="mdi:account-cog" class="text-green-500 mr-2"></iconify-icon>
              å­¦ä¹ åå¥½
            </h3>
            <div class="space-y-3">
              <div class="p-3 bg-gray-50 rounded-lg">
                <label class="block text-sm font-medium text-gray-700 mb-2">æ¯æ—¥å­¦ä¹ ç›®æ ‡</label>
                <select class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                  <option>1å°æ—¶</option>
                  <option selected>2å°æ—¶</option>
                  <option>3å°æ—¶</option>
                  <option>4å°æ—¶</option>
                </select>
              </div>
              
              <div class="p-3 bg-gray-50 rounded-lg">
                <label class="block text-sm font-medium text-gray-700 mb-2">å­¦ä¹ æ¨¡å¼</label>
                <div class="space-y-2">
                  <label class="flex items-center">
                    <input type="radio" name="studyMode" class="text-blue-600" checked>
                    <span class="ml-2 text-sm text-gray-700">ä¸“æ³¨æ¨¡å¼</span>
                  </label>
                  <label class="flex items-center">
                    <input type="radio" name="studyMode" class="text-blue-600">
                    <span class="ml-2 text-sm text-gray-700">è½»æ¾æ¨¡å¼</span>
                  </label>
                  <label class="flex items-center">
                    <input type="radio" name="studyMode" class="text-blue-600">
                    <span class="ml-2 text-sm text-gray-700">æŒ‘æˆ˜æ¨¡å¼</span>
                  </label>
                </div>
              </div>
            </div>
          </div>
          
          <!-- éšç§è®¾ç½® -->
          <div>
            <h3 class="text-lg font-bold text-gray-700 mb-3 flex items-center">
              <iconify-icon icon="mdi:shield-account" class="text-purple-500 mr-2"></iconify-icon>
              éšç§è®¾ç½®
            </h3>
            <div class="space-y-3">
              <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                <div>
                  <div class="font-medium text-gray-800">å­¦ä¹ è¿›åº¦å…¬å¼€</div>
                  <div class="text-sm text-gray-600">å…è®¸å¥½å‹æŸ¥çœ‹å­¦ä¹ è¿›åº¦</div>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                  <input type="checkbox" class="sr-only peer" checked>
                  <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                </label>
              </div>
              
              <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                <div>
                  <div class="font-medium text-gray-800">åœ¨çº¿çŠ¶æ€æ˜¾ç¤º</div>
                  <div class="text-sm text-gray-600">æ˜¾ç¤ºåœ¨çº¿çŠ¶æ€ç»™å…¶ä»–ç”¨æˆ·</div>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                  <input type="checkbox" class="sr-only peer" checked>
                  <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                </label>
              </div>
            </div>
          </div>
          
          <!-- æ“ä½œæŒ‰é’® -->
          <div class="flex gap-3 pt-4">
            <button @click="showSettings = false" class="flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300">
              å–æ¶ˆ
            </button>
            <button @click="saveSettings" class="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700">
              ä¿å­˜è®¾ç½®
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import * as echarts from 'echarts'

export default {
  name: 'TaskManager',
  data() {
    return {
      showAchievements: false,
      showSettings: false,
      activeTab: 'inProgress',
      activeTimeFilter: 'week', // ä¿®æ­£æ•°æ®å±æ€§åç§°
      chartInstance: null,
      progressChartInstance: null,
      // ä¸åŒæ—¶é—´æ®µçš„æ•°æ®
      timeFilterData: {
        week: {
          chartData: [45, 52, 68, 73, 64, 42, 30],
          chartLabels: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],
          completionRate: 72,
          completedTasks: 86,
          totalTasks: 120
        },
        month: {
          chartData: [65, 72, 58, 83, 76, 69, 74, 81, 67, 79, 85, 78, 72, 88, 91, 69, 75, 82, 77, 84, 73, 86, 79, 81, 75, 83, 78, 80, 76, 89],
          chartLabels: ['1æ—¥', '2æ—¥', '3æ—¥', '4æ—¥', '5æ—¥', '6æ—¥', '7æ—¥', '8æ—¥', '9æ—¥', '10æ—¥', '11æ—¥', '12æ—¥', '13æ—¥', '14æ—¥', '15æ—¥', '16æ—¥', '17æ—¥', '18æ—¥', '19æ—¥', '20æ—¥', '21æ—¥', '22æ—¥', '23æ—¥', '24æ—¥', '25æ—¥', '26æ—¥', '27æ—¥', '28æ—¥', '29æ—¥', '30æ—¥'],
          completionRate: 78,
          completedTasks: 234,
          totalTasks: 300
        },
        quarter: {
          chartData: [68, 74, 82],
          chartLabels: ['1æœˆ', '2æœˆ', '3æœˆ'],
          completionRate: 81,
          completedTasks: 486,
          totalTasks: 600
        }
      },
      tasks: {
        inProgress: [
          {
            id: 1,
            title: 'Vue.js ç»„ä»¶å¼€å‘',
            description: 'å­¦ä¹ Vueç»„ä»¶çš„é«˜çº§ç”¨æ³•',
            progress: 75,
            priority: 'high',
            dueDate: '2024-01-20',
            tags: ['å‰ç«¯', 'Vue']
          },
          {
            id: 2,
            title: 'JavaScript ES6+',
            description: 'æŒæ¡ç°ä»£JavaScriptè¯­æ³•',
            progress: 60,
            priority: 'medium',
            dueDate: '2024-01-25',
            tags: ['JavaScript', 'åŸºç¡€']
          },
          {
            id: 3,
            title: 'CSS Grid å¸ƒå±€',
            description: 'å­¦ä¹ CSS Gridå¸ƒå±€ç³»ç»Ÿ',
            progress: 40,
            priority: 'low',
            dueDate: '2024-01-30',
            tags: ['CSS', 'å¸ƒå±€']
          }
        ],
        toStart: [
          {
            id: 4,
            title: 'React Hooks',
            description: 'å­¦ä¹ React Hooksçš„ä½¿ç”¨',
            progress: 0,
            priority: 'medium',
            dueDate: '2024-02-01',
            tags: ['React', 'å‰ç«¯']
          },
          {
            id: 5,
            title: 'Node.js åç«¯å¼€å‘',
            description: 'æ„å»ºRESTful API',
            progress: 0,
            priority: 'high',
            dueDate: '2024-02-05',
            tags: ['Node.js', 'åç«¯']
          }
        ],
        completed: [
          {
            id: 6,
            title: 'HTML5 åŸºç¡€',
            description: 'æŒæ¡HTML5æ–°ç‰¹æ€§',
            progress: 100,
            priority: 'low',
            dueDate: '2024-01-10',
            tags: ['HTML', 'åŸºç¡€']
          },
          {
            id: 7,
            title: 'Git ç‰ˆæœ¬æ§åˆ¶',
            description: 'å­¦ä¹ GitåŸºæœ¬æ“ä½œ',
            progress: 100,
            priority: 'medium',
            dueDate: '2024-01-15',
            tags: ['Git', 'å·¥å…·']
          }
        ]
      }
    }
  },
  computed: {
    // å½“å‰æ—¶é—´ç­›é€‰å™¨å¯¹åº”çš„æ•°æ®
    currentTimeData() {
      return this.timeFilterData[this.activeTimeFilter];
    }
  },
  mounted() {
    this.initCharts()
  },
  methods: {
    // è®¾ç½®æ—¶é—´ç­›é€‰å™¨
    setTimeFilter(filter) {
      this.activeTimeFilter = filter;
      this.updateCharts();
    },
    
    // æ›´æ–°å›¾è¡¨æ•°æ®
    updateCharts() {
      this.updateRingChart();
      this.updateBarChart();
    },
    
    // æ›´æ–°ç¯å½¢è¿›åº¦å›¾
    updateRingChart() {
      if (this.chartInstance) {
        const completionRate = this.currentTimeData.completionRate / 100;
        this.chartInstance.setOption({
          tooltip: { show: false },
          series: [{
            type: 'gauge',
            startAngle: 180,
            endAngle: 0,
            radius: '100%',
            min: 0,
            max: 100,
            splitNumber: 10,
            pointer: { show: false },
            axisLine: {
              lineStyle: {
                width: 15,
                color: [[completionRate, '#2D5BFF'], [1, '#F5F7FA']]
              }
            },
            axisLabel: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
            detail: { show: false }
          }]
        })
        
        // æŸ±çŠ¶å›¾
        this.progressChartInstance = echarts.init(this.$refs.taskProgressChart)
        this.updateBarChart()
        
        // çª—å£å¤§å°å˜åŒ–æ—¶é‡ç»˜å›¾è¡¨
        window.addEventListener('resize', () => {
          if (this.chartInstance) this.chartInstance.resize()
          if (this.progressChartInstance) this.progressChartInstance.resize()
        })
      }
    },
    
    // æ›´æ–°æŸ±çŠ¶å›¾
    updateBarChart() {
      if (this.progressChartInstance) {
        const isLineChart = this.activeTimeFilter === 'month' || this.activeTimeFilter === 'quarter';
        
        this.progressChartInstance.setOption({
          xAxis: {
            data: this.currentTimeData.chartLabels
          },
          series: [{
            data: this.currentTimeData.chartData,
            type: isLineChart ? 'line' : 'bar',
            barWidth: isLineChart ? undefined : 24,
            smooth: isLineChart ? true : undefined,
            symbol: isLineChart ? 'circle' : undefined,
            symbolSize: isLineChart ? 6 : undefined,
            lineStyle: isLineChart ? {
              width: 3,
              color: '#2D5BFF'
            } : undefined,
            itemStyle: isLineChart ? {
              color: '#2D5BFF',
              borderColor: '#fff',
              borderWidth: 2
            } : {
              color: {
                type: 'linear',
                x: 0,
                y: 0,
                x2: 0,
                y2: 1,
                colorStops: [{
                  offset: 0, color: '#2D5BFF'
                }, {
                  offset: 1, color: '#5D8AFE'
                }]
              },
              borderRadius: [8, 8, 0, 0]
            },
            emphasis: {
              itemStyle: {
                shadowColor: 'rgba(45,91,255,0.5)',
                shadowBlur: 8
              }
            }
          }]
        });
      }
    },
    initCharts() {
      // ç¯å½¢è¿›åº¦å›¾
      this.chartInstance = echarts.init(this.$refs.ringProgress)
      const completionRate = this.currentTimeData.completionRate / 100;
      this.chartInstance.setOption({
        tooltip: { show: false },
        series: [{
          type: 'gauge',
          startAngle: 180,
          endAngle: 0,
          radius: '100%',
          min: 0,
          max: 100,
          splitNumber: 10,
          pointer: { show: false },
          axisLine: {
            lineStyle: {
              width: 15,
              color: [[completionRate, '#2D5BFF'], [1, '#F5F7FA']]
            }
          },
          axisLabel: { show: false },
          axisTick: { show: false },
          splitLine: { show: false },
          detail: { show: false }
        }]
      })
      
      // æŸ±çŠ¶å›¾/æŠ˜çº¿å›¾
      this.progressChartInstance = echarts.init(this.$refs.taskProgressChart)
      const isLineChart = this.activeTimeFilter === 'month' || this.activeTimeFilter === 'quarter';
      
      this.progressChartInstance.setOption({
        tooltip: {
          trigger: 'axis',
          formatter: '{b}<br/>{c}% å®Œæˆ'
        },
        grid: {
          left: '3%',
          right: '4%',
          bottom: '3%',
          top: '5%',
          containLabel: true
        },
        xAxis: {
          type: 'category',
          data: this.currentTimeData.chartLabels,
          axisLine: { lineStyle: { color: '#E5E7EB' } },
          axisTick: { show: false }
        },
        yAxis: {
          type: 'value',
          max: 100,
          axisLine: { show: false },
          axisTick: { show: false },
          splitLine: {
            lineStyle: { color: '#F0F2F5' }
          },
          axisLabel: { formatter: '{value}%' }
        },
        series: [{
          data: this.currentTimeData.chartData,
          type: isLineChart ? 'line' : 'bar',
          barWidth: isLineChart ? undefined : 24,
          smooth: isLineChart ? true : undefined,
          symbol: isLineChart ? 'circle' : undefined,
          symbolSize: isLineChart ? 6 : undefined,
          lineStyle: isLineChart ? {
            width: 3,
            color: '#2D5BFF'
          } : undefined,
          itemStyle: isLineChart ? {
            color: '#2D5BFF',
            borderColor: '#fff',
            borderWidth: 2
          } : {
            color: {
              type: 'linear',
              x: 0,
              y: 0,
              x2: 0,
              y2: 1,
              colorStops: [{
                offset: 0, color: '#2D5BFF'
              }, {
                offset: 1, color: '#5D8AFE'
              }]
            },
            borderRadius: [8, 8, 0, 0]
          },
          emphasis: {
            itemStyle: {
              shadowColor: 'rgba(45,91,255,0.5)',
              shadowBlur: 8
            }
          }
        }]
      })
      
      // çª—å£å¤§å°å˜åŒ–æ—¶é‡ç»˜å›¾è¡¨
      window.addEventListener('resize', () => {
        if (this.chartInstance) this.chartInstance.resize()
        if (this.progressChartInstance) this.progressChartInstance.resize()
      })
    },
    showTaskDetails() {
      // ç‚¹å‡»ç¯å½¢å›¾æ˜¾ç¤ºä»»åŠ¡è¯¦æƒ…çš„è”åŠ¨åŠŸèƒ½
      console.log('æ˜¾ç¤ºä»»åŠ¡è¯¦æƒ…')
    },
    saveSettings() {
      // ä¿å­˜è®¾ç½®é€»è¾‘
      console.log('è®¾ç½®å·²ä¿å­˜');
      this.showSettings = false;
      // è¿™é‡Œå¯ä»¥æ·»åŠ å®é™…çš„ä¿å­˜é€»è¾‘ï¼Œæ¯”å¦‚è°ƒç”¨API
    }
  }
}
</script>

<style scoped>
.sidebar-shadow {
  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.05);
}

.badge {
  animation: pulse 1.5s infinite;
}

@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(45, 91, 255, 0.4); }
  70% { box-shadow: 0 0 0 10px rgba(45, 91, 255, 0); }
  100% { box-shadow: 0 0 0 0 rgba(45, 91, 255, 0); }
}

.bubble-left:before {
  content: '';
  width: 0;
  height: 0;
  position: absolute;
  left: -10px;
  top: 10px;
  border-top: 10px solid transparent;
  border-bottom: 10px solid transparent;
  border-right: 10px solid #E5E7EB;
}

.bubble-right:before {
  content: '';
  width: 0;
  height: 0;
  position: absolute;
  right: -10px;
  top: 10px;
  border-top: 10px solid transparent;
  border-bottom: 10px solid transparent;
  border-left: 10px solid #2D5BFF;
}

.friend-card:hover {
  background-color: rgba(45, 91, 255, 0.05);
}
</style>